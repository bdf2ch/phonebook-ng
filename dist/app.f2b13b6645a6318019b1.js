webpackJsonp([1],{126:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(127),o=function(e){function Division(t){var n=e.call(this)||this;return n.id=0,n.parentId=0,n.departmentId=0,n.title="",n.order=0,n.isDepartment=!1,n.isSelected=!1,n.isOpened=!1,n.children=[],t&&(n.id=t.id,n.parentId=t.parent_id,n.departmentId=void 0!==t.department_id?t.department_id:0,n.title=t.title,n.order=t.order?t.order:0,n.isDepartment=void 0!==t.is_department&&t.is_department),n}return i(Division,e),Division}(r.Model);t.Division=o},127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function Model(){this._backupData={},this._statusData={isChanged:!1,isSelected:!1}}return Model.prototype.setupBackup=function(e){if(null!==e)for(var t=e.length,n=0;n<t;n++)null!==this[e[n]]&&(this._backupData[e[n]]=this[e[n]]);else for(var n in this._backupData)null!==this[n]&&(this._backupData[n]=this[n])},Model.prototype.restoreBackup=function(e){if(e)for(var t=e.length,n=0;n<t;n++)void 0!==this._backupData[e[n]]?this[e[n]]=this._backupData[e[n]]:console.error("Поле "+e[n]+" не найдено");else for(var n in this._backupData)this[n]=this._backupData[n]},Model.prototype.changed=function(e){return void 0!==e&&(this._statusData.isChanged=e),this._statusData.isChanged},Model.prototype.selected=function(e){return null!==e&&(this._statusData.isSelected=e),this._statusData.isSelected},Model}();t.Model=i},128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(126),r=n(91),o=function(){function ContactGroup(e){var t=this;this.divisions=[],this.contacts=[],e&&(e.divisions.forEach(function(e){var n=new i.Division(e);t.divisions.push(n)}),e.contacts.forEach(function(e){var n=new r.Contact(e);t.contacts.push(n)}))}return ContactGroup}();t.ContactGroup=o},129:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(130),s=function(){function DivisionTreeComponent(e){this.divisionTrees=e,this.id="",this.divisions=[],this.onSelect=new o.EventEmitter,this.root=[],this.selectedDivision=null}return DivisionTreeComponent.prototype.ngOnInit=function(){var e=this;this.divisionTrees.register(this),this.divisions.forEach(function(t){e.addDivision(t)})},DivisionTreeComponent.prototype.addDivision=function(e){if(e){var t=function(t,n,i){return t.id===e.parentId},n=this.divisions.find(t);void 0!==n?n.children.push(e):this.root.push(e)}},DivisionTreeComponent.prototype.selectDivision=function(e){if(e){var t=function(t,n,i){return t.id===e.id},n=this.divisions.find(t);n.isSelected?(n.isSelected=!1,n.isOpened=!1,this.onSelect.emit(null)):(this.divisions.forEach(function(t){t.isSelected=t.id===e.id}),n.isSelected=!0,n.isOpened=!0,this.onSelect.emit(e))}},DivisionTreeComponent}();i([o.Input(),r("design:type",String)],s.prototype,"id",void 0),i([o.Input(),r("design:type",Array)],s.prototype,"divisions",void 0),i([o.Output(),r("design:type",o.EventEmitter)],s.prototype,"onSelect",void 0),s=i([o.Component({selector:"division-tree",template:n(376),styles:[n(384)]}),r("design:paramtypes",[a.DivisionTreeService])],s),t.DivisionTreeComponent=s},130:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=function(){function DivisionTreeService(){this.trees=[]}return DivisionTreeService.prototype.register=function(e){e&&(this.trees.push(e),console.log(this.trees))},DivisionTreeService.prototype.getById=function(e){if(e&&""!==e){var t=function(t,n,i){return t.id===e};return this.trees.find(t)}},DivisionTreeService}();o=i([r.Injectable()],o),t.DivisionTreeService=o},201:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=n(51),a=n(208),s=n(89),l=n(125),u=n(209),c=n(216),p=n(213),d=n(212),m=n(218),f=n(211),h=n(92),y=n(129),v=n(215),g=n(130),b=n(214),A=n(217),_=n(210),T=[{path:"",component:c.PhoneBookComponent,canActivate:[f.CanActivatePhoneBookGuard]}],E=function(){function AppModule(){}return AppModule}();E=i([r.NgModule({imports:[o.BrowserModule,a.BrowserAnimationsModule,s.HttpModule,l.RouterModule.forRoot(T)],declarations:[u.AppComponent,c.PhoneBookComponent,p.ContactComponent,d.ContactGroupComponent,m.TextOverflowDirective,y.DivisionTreeComponent,v.DivisionTreeItemComponent,b.DivisionOrderPipe,A.StubComponent,_.AuthComponent],providers:[f.CanActivatePhoneBookGuard,h.PhoneBookService,g.DivisionTreeService],bootstrap:[u.AppComponent]})],E),t.AppModule=E},206:function(e,t,n){"use strict";/**
 * @license Angular v4.2.4
 * (c) 2010-2017 Google, Inc. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function optimizeGroupPlayer(e){switch(e.length){case 0:return new r.NoopAnimationPlayer;case 1:return e[0];default:return new r["ɵAnimationGroupPlayer"](e)}}function normalizeKeyframes(e,t,n,i,o,a){void 0===o&&(o={}),void 0===a&&(a={});var s=[],l=[],u=-1,c=null;if(i.forEach(function(e){var n=e.offset,i=n==u,p=i&&c||{};Object.keys(e).forEach(function(n){var i=n,l=e[n];l==r["ɵPRE_STYLE"]?l=o[n]:l==r.AUTO_STYLE?l=a[n]:"offset"!=n&&(i=t.normalizePropertyName(n,s),l=t.normalizeStyleValue(n,i,e[n],s)),p[i]=l}),i||l.push(p),c=p,u=n}),s.length){var p="\n - ";throw new Error("Unable to animate due to the following errors:"+p+s.join(p))}return l}function listenOnPlayer(e,t,n,i){switch(t){case"start":e.onStart(function(){return i(n&&copyAnimationEvent(n,"start",e.totalTime))});break;case"done":e.onDone(function(){return i(n&&copyAnimationEvent(n,"done",e.totalTime))});break;case"destroy":e.onDestroy(function(){return i(n&&copyAnimationEvent(n,"destroy",e.totalTime))})}}function copyAnimationEvent(e,t,n){var i=makeAnimationEvent(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,void 0==n?e.totalTime:n),r=e._data;return null!=r&&(i._data=r),i}function makeAnimationEvent(e,t,n,i,r,o){return void 0===r&&(r=""),void 0===o&&(o=0),{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o}}function getOrSetAsInMap(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function parseTimelineCommand(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}function resolveTimingValue(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:_convertTimeValueToMS(parseFloat(t[1]),t[2])}function _convertTimeValueToMS(e,t){switch(t){case"s":return e*h;default:return e}}function resolveTiming(e,t,n){return e.hasOwnProperty("duration")?e:parseTimeExpression(e,t,n)}function parseTimeExpression(e,t,n){var i,r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o=0,a="";if("string"==typeof e){var s=e.match(r);if(null===s)return t.push('The provided timing value "'+e+'" is invalid.'),{duration:0,delay:0,easing:""};i=_convertTimeValueToMS(parseFloat(s[1]),s[2]);var l=s[3];null!=l&&(o=_convertTimeValueToMS(Math.floor(parseFloat(l)),s[4]));var u=s[5];u&&(a=u)}else i=e;if(!n){var c=!1,p=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(p,0,'The provided timing value "'+e+'" is invalid.')}return{duration:i,delay:o,easing:a}}function copyObj(e,t){return void 0===t&&(t={}),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function normalizeStyles(e){var t={};return Array.isArray(e)?e.forEach(function(e){return copyStyles(e,!1,t)}):copyStyles(e,!1,t),t}function copyStyles(e,t,n){if(void 0===n&&(n={}),t)for(var i in e)n[i]=e[i];else copyObj(e,n);return n}function setStyles(e,t){e.style&&Object.keys(t).forEach(function(n){var i=dashCaseToCamelCase(n);e.style[i]=t[n]})}function eraseStyles(e,t){e.style&&Object.keys(t).forEach(function(t){var n=dashCaseToCamelCase(t);e.style[n]=""})}function normalizeAnimationEntry(e){return Array.isArray(e)?1==e.length?e[0]:n.i(r.sequence)(e):e}function validateStyleParams(e,t,n){var i=t.params||{};if("string"==typeof e){var r=e.toString().match(S);r&&r.forEach(function(e){i.hasOwnProperty(e)||n.push("Unable to resolve the local animation param "+e+" in the given list of values")})}}function interpolateParams(e,t,n){var i=e.toString(),r=i.replace(S,function(e,i){var r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?e:r}function iteratorToArray(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}function mergeAnimationOptions(e,t){if(e.params){var n=e.params;t.params||(t.params={});var i=t.params;Object.keys(n).forEach(function(e){i.hasOwnProperty(e)||(i[e]=n[e])})}return t}function dashCaseToCamelCase(e){return e.replace(x,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].toUpperCase()})}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function visitAnimationNode(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function parseTransitionExpr(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(function(e){return parseInnerTransitionStr(e,n,t)}):n.push(e),n}function parseInnerTransitionStr(e,t,n){":"==e[0]&&(e=parseAnimationAlias(e,n));var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+e+'" is not supported'),t;var r=i[1],o=i[2],a=i[3];t.push(makeLambdaFromStates(r,a));var s=r==K&&a==K;"<"!=o[0]||s||t.push(makeLambdaFromStates(a,r))}function parseAnimationAlias(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";default:return t.push('The transition alias value "'+e+'" is not supported'),"* => *"}}function makeLambdaFromStates(e,t){return function(n,i){var r=e==K||e==n,o=t==K||t==i;return r||"boolean"!=typeof n||(r=n?"true"===e:"false"===e),o||"boolean"!=typeof i||(o=i?"true"===t:"false"===t),r&&o}}function buildAnimationAst(e,t){return(new Z).build(e,t)}function normalizeSelector(e){var t=!!e.split(/\s*,\s*/).find(function(e){return e==Q});return t&&(e=e.replace(W,"")),e=e.replace(Y,g).replace(U,b).replace(/@\*/g,_).replace(/@\w+/g,function(e){return _+"-"+e.substr(1)}).replace(/:animating/g,E),[e,t]}function normalizeParams(e){return e?copyObj(e):null}function consumeOffset(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(isObject(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(isObject(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}function isObject(e){return!Array.isArray(e)&&"object"==typeof e}function constructTimingAst(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e){resolveTiming(e,t).duration;return new q(e,0,"")}var i=e;return i.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})?new V(i):(n=n||resolveTiming(i,t),new q(n.duration,n.delay,n.easing))}function normalizeAnimationOptions(e){return e?(e=copyObj(e),e.params&&(e.params=normalizeParams(e.params))):e={},e}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function createTimelineInstruction(e,t,n,i,r,o,a,s){return void 0===a&&(a=null),void 0===s&&(s=!1),{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}function buildAnimationTimelines(e,t,n,i,r,o,a,s){return void 0===i&&(i={}),void 0===r&&(r={}),void 0===s&&(s=[]),(new te).buildKeyframes(e,t,n,i,r,o,a,s)}function roundOffset(e,t){void 0===t&&(t=3);var n=Math.pow(10,t-1);return Math.round(e*n)/n}function flattenStyles(e,t){var n,i={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t),n.forEach(function(e){i[e]=r.AUTO_STYLE})):copyStyles(e,!1,i)}),i}function makeBooleanMap(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function createTransitionInstruction(e,t,n,i,r,o,a,s,l,u,c){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:u,postStyleProps:c}}function oneOrMoreTransitionsMatch(e,t,n){return e.some(function(e){return e(t,n)})}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function buildTrigger(e,t){return new ce(e,t)}function createFallbackTransition(e,t){var n=[function(e,t){return!0}],i=new k([]),r=new B(n,i);return new ue(e,r,t)}function balanceProperties(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}function deleteOrUnsetInMap(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&delete e[t]}return i}function normalizeTriggerValue(e){switch(typeof e){case"boolean":return e?"1":"0";default:return null!=e?e.toString():null}}function isElementNode(e){return e&&1===e.nodeType}function isTriggerEventValid(e){return"start"==e||"done"==e}function cloakElement(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function filterNodeClasses(e,t,n){var i=[];if(!t)return i;var r=t,o={},a=[];do{o=r?e.query(r,n,!1)[0]:null;var s=!!o;if(!o){var l=a.pop();if(!l){if(!(r=r.parentElement))break;o=r=r.nextElementSibling;continue}o=l}for(;o;){var u=s||e.matchesElement(o,n);s=!1;var l=o.nextElementSibling;if(!u){a.push(l),r=o;break}if(i.push(o),o=l)r=o;else{if(!(r=r.parentElement))break;o=r=r.nextElementSibling}}}while(o&&o!==t);return i}function cloakAndComputeStyles(e,t,n,i){var r=t.map(function(e){return cloakElement(e)}),o=new Map;return n.forEach(function(t,n){var r={};t.forEach(function(t){var o=r[t]=e.computeStyle(n,t,i);o&&0!=o.length||(n[ye]=he)}),o.set(n,r)}),t.forEach(function(e,t){return cloakElement(e,r[t])}),o}function collectEnterElements(e,t){t.forEach(function(e){return addClass(e,_e)});var n=filterNodeClasses(e,getBodyNode(),Te);return n.forEach(function(e){return addClass(e,y)}),t.forEach(function(e){return removeClass(e,_e)}),n}function containsClass(e,t){if(e.classList)return e.classList.contains(t);var n=e[we];return n&&n[t]}function addClass(e,t){if(e.classList)e.classList.add(t);else{var n=e[we];n||(n=e[we]={}),n[t]=!0}}function removeClass(e,t){if(e.classList)e.classList.remove(t);else{var n=e[we];n&&delete n[t]}}function getBodyNode(){return"undefined"!=typeof document?document.body:null}function removeNodesAfterAnimationDone(e,t,n){optimizeGroupPlayer(n).onDone(function(){return e.processLeaveNode(t)})}function _computeStyle(e,t){return window.getComputedStyle(e)[t]}function supportsWebAnimations(){return"undefined"!=typeof Element&&"function"==typeof Element.prototype.animate}var i=n(39),r=n(59);n.d(t,"b",function(){return f}),n.d(t,"c",function(){return ae}),n.d(t,"g",function(){return se}),n.d(t,"f",function(){return m}),n.d(t,"a",function(){return Ce}),n.d(t,"e",function(){return Oe}),n.d(t,"d",function(){return supportsWebAnimations});var o=function(e,t){return!1},a=function(e,t){return!1},s=function(e,t,n){return[]};if("undefined"!=typeof Element){if(o=function(e,t){return e.contains(t)},Element.prototype.matches)a=function(e,t){return e.matches(t)};else{var l=Element.prototype,u=l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector;u&&(a=function(e,t){return u.apply(e,[t])})}s=function(e,t,n){var i=[];if(n)i.push.apply(i,e.querySelectorAll(t));else{var r=e.querySelector(t);r&&i.push(r)}return i}}var c=a,p=o,d=s,m=function(){function NoopAnimationDriver(){}return NoopAnimationDriver.prototype.matchesElement=function(e,t){return c(e,t)},NoopAnimationDriver.prototype.containsElement=function(e,t){return p(e,t)},NoopAnimationDriver.prototype.query=function(e,t,n){return d(e,t,n)},NoopAnimationDriver.prototype.computeStyle=function(e,t,n){return n||""},NoopAnimationDriver.prototype.animate=function(e,t,n,i,o,a){return void 0===a&&(a=[]),new r.NoopAnimationPlayer},NoopAnimationDriver}(),f=function(){function AnimationDriver(){}return AnimationDriver}();f.NOOP=new m;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var h=1e3,y="ng-enter",v="ng-leave",g=".ng-enter",b=".ng-leave",A="ng-trigger",_=".ng-trigger",T="ng-animating",E=".ng-animating",S=/\{\{\s*(.+?)\s*\}\}/g,x=/-+([a-z0-9])/g,w={},C=function(){function Ast(){this.options=w}return Ast.prototype.visit=function(e,t){},Object.defineProperty(Ast.prototype,"params",{get:function(){return this.options.params||null},enumerable:!0,configurable:!0}),Ast}(),P=function(e){function TriggerAst(t,n,i){var r=e.call(this)||this;return r.name=t,r.states=n,r.transitions=i,r.queryCount=0,r.depCount=0,r}return i.a(TriggerAst,e),TriggerAst.prototype.visit=function(e,t){return e.visitTrigger(this,t)},TriggerAst}(C),O=function(e){function StateAst(t,n){var i=e.call(this)||this;return i.name=t,i.style=n,i}return i.a(StateAst,e),StateAst.prototype.visit=function(e,t){return e.visitState(this,t)},StateAst}(C),B=function(e){function TransitionAst(t,n){var i=e.call(this)||this;return i.matchers=t,i.animation=n,i.queryCount=0,i.depCount=0,i}return i.a(TransitionAst,e),TransitionAst.prototype.visit=function(e,t){return e.visitTransition(this,t)},TransitionAst}(C),k=function(e){function SequenceAst(t){var n=e.call(this)||this;return n.steps=t,n}return i.a(SequenceAst,e),SequenceAst.prototype.visit=function(e,t){return e.visitSequence(this,t)},SequenceAst}(C),R=function(e){function GroupAst(t){var n=e.call(this)||this;return n.steps=t,n}return i.a(GroupAst,e),GroupAst.prototype.visit=function(e,t){return e.visitGroup(this,t)},GroupAst}(C),D=function(e){function AnimateAst(t,n){var i=e.call(this)||this;return i.timings=t,i.style=n,i}return i.a(AnimateAst,e),AnimateAst.prototype.visit=function(e,t){return e.visitAnimate(this,t)},AnimateAst}(C),N=function(e){function StyleAst(t,n,i){var r=e.call(this)||this;return r.styles=t,r.easing=n,r.offset=i,r.isEmptyStep=!1,r}return i.a(StyleAst,e),StyleAst.prototype.visit=function(e,t){return e.visitStyle(this,t)},StyleAst}(C),j=function(e){function KeyframesAst(t){var n=e.call(this)||this;return n.styles=t,n}return i.a(KeyframesAst,e),KeyframesAst.prototype.visit=function(e,t){return e.visitKeyframes(this,t)},KeyframesAst}(C),I=function(e){function ReferenceAst(t){var n=e.call(this)||this;return n.animation=t,n}return i.a(ReferenceAst,e),ReferenceAst.prototype.visit=function(e,t){return e.visitReference(this,t)},ReferenceAst}(C),F=function(e){function AnimateChildAst(){return e.call(this)||this}return i.a(AnimateChildAst,e),AnimateChildAst.prototype.visit=function(e,t){return e.visitAnimateChild(this,t)},AnimateChildAst}(C),M=function(e){function AnimateRefAst(t){var n=e.call(this)||this;return n.animation=t,n}return i.a(AnimateRefAst,e),AnimateRefAst.prototype.visit=function(e,t){return e.visitAnimateRef(this,t)},AnimateRefAst}(C),z=function(e){function QueryAst(t,n,i,r,o){var a=e.call(this)||this;return a.selector=t,a.limit=n,a.optional=i,a.includeSelf=r,a.animation=o,a}return i.a(QueryAst,e),QueryAst.prototype.visit=function(e,t){return e.visitQuery(this,t)},QueryAst}(C),L=function(e){function StaggerAst(t,n){var i=e.call(this)||this;return i.timings=t,i.animation=n,i}return i.a(StaggerAst,e),StaggerAst.prototype.visit=function(e,t){return e.visitStagger(this,t)},StaggerAst}(C),q=function(e){function TimingAst(t,n,i){void 0===n&&(n=0),void 0===i&&(i=null);var r=e.call(this)||this;return r.duration=t,r.delay=n,r.easing=i,r}return i.a(TimingAst,e),TimingAst.prototype.visit=function(e,t){return e.visitTiming(this,t)},TimingAst}(C),V=function(e){function DynamicTimingAst(t){var n=e.call(this,0,0,"")||this;return n.value=t,n}return i.a(DynamicTimingAst,e),DynamicTimingAst.prototype.visit=function(e,t){return e.visitTiming(this,t)},DynamicTimingAst}(q),K="*",Q=":self",W=new RegExp("s*"+Q+"s*,?","g"),G=":leave",U=new RegExp(G,"g"),H=":enter",Y=new RegExp(H,"g"),$="",Z=function(){function AnimationAstBuilderVisitor(){}return AnimationAstBuilderVisitor.prototype.build=function(e,t){var n=new J(t);return this._resetContextStyleTimingState(n),visitAnimationNode(this,normalizeAnimationEntry(e),n)},AnimationAstBuilderVisitor.prototype._resetContextStyleTimingState=function(e){e.currentQuerySelector=$,e.collectedStyles[$]={},e.currentTime=0},AnimationAstBuilderVisitor.prototype.visitTrigger=function(e,t){var n=this,i=t.queryCount=0,r=t.depCount=0,o=[],a=[];e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,l=s.name;l.split(/\s*,\s*/).forEach(function(e){s.name=e,o.push(n.visitState(s,t))}),s.name=l}else if(1==e.type){var u=n.visitTransition(e,t);i+=u.queryCount,r+=u.depCount,a.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")});var s=new P(e.name,o,a);return s.options=normalizeAnimationOptions(e.options),s.queryCount=i,s.depCount=r,s},AnimationAstBuilderVisitor.prototype.visitState=function(e,t){return new O(e.name,this.visitStyle(e.styles,t))},AnimationAstBuilderVisitor.prototype.visitTransition=function(e,t){t.queryCount=0,t.depCount=0;var n=visitAnimationNode(this,normalizeAnimationEntry(e.animation),t),i=parseTransitionExpr(e.expr,t.errors),r=new B(i,n);return r.options=normalizeAnimationOptions(e.options),r.queryCount=t.queryCount,r.depCount=t.depCount,r},AnimationAstBuilderVisitor.prototype.visitSequence=function(e,t){var n=this,i=new k(e.steps.map(function(e){return visitAnimationNode(n,e,t)}));return i.options=normalizeAnimationOptions(e.options),i},AnimationAstBuilderVisitor.prototype.visitGroup=function(e,t){var n=this,i=t.currentTime,r=0,o=e.steps.map(function(e){t.currentTime=i;var o=visitAnimationNode(n,e,t);return r=Math.max(r,t.currentTime),o});t.currentTime=r;var a=new R(o);return a.options=normalizeAnimationOptions(e.options),a},AnimationAstBuilderVisitor.prototype.visitAnimate=function(e,t){var i=constructTimingAst(e.timings,t.errors);t.currentAnimateTimings=i;var o,a=e.styles?e.styles:n.i(r.style)({});if(5==a.type)o=this.visitKeyframes(a,t);else{var s=e.styles,l=!1;if(!s){l=!0;var u={};i.easing&&(u.easing=i.easing),s=n.i(r.style)(u)}t.currentTime+=i.duration+i.delay;var c=this.visitStyle(s,t);c.isEmptyStep=l,o=c}return t.currentAnimateTimings=null,new D(i,o)},AnimationAstBuilderVisitor.prototype.visitStyle=function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n},AnimationAstBuilderVisitor.prototype._makeStyleAst=function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==r.AUTO_STYLE?n.push(e):t.errors.push("The provided style string value "+e+" is not allowed."):n.push(e)}):n.push(e.styles);var i=null;return n.forEach(function(e){if(isObject(e)){var t=e,n=t.easing;n&&(i=n,delete t.easing)}}),new N(n,i,e.offset)},AnimationAstBuilderVisitor.prototype._validateStyleAst=function(e,t){var n=t.currentAnimateTimings,i=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(n){var o=t.collectedStyles[t.currentQuerySelector],a=o[n],s=!0;a&&(r!=i&&r>=a.startTime&&i<=a.endTime&&(t.errors.push('The CSS property "'+n+'" that exists between the times of "'+a.startTime+'ms" and "'+a.endTime+'ms" is also being animated in a parallel animation between the times of "'+r+'ms" and "'+i+'ms"'),s=!1),r=a.startTime),s&&(o[n]={startTime:r,endTime:i}),t.options&&validateStyleParams(e[n],t.options,t.errors)})})},AnimationAstBuilderVisitor.prototype.visitKeyframes=function(e,t){var n=this;if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),new j([]);var i=1,r=0,o=[],a=!1,s=!1,l=0,u=e.steps.map(function(e){var i=n._makeStyleAst(e,t),u=null!=i.offset?i.offset:consumeOffset(i.styles),c=0;return null!=u&&(r++,c=i.offset=u),s=s||c<0||c>1,a=a||c<l,l=c,o.push(c),i});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,p=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(p=i/(c-1));var d=c-1,m=t.currentTime,f=t.currentAnimateTimings,h=f.duration;return u.forEach(function(e,i){var r=p>0?i==d?1:p*i:o[i],a=r*h;t.currentTime=m+f.delay+a,f.duration=a,n._validateStyleAst(e,t),e.offset=r}),new j(u)},AnimationAstBuilderVisitor.prototype.visitReference=function(e,t){var n=visitAnimationNode(this,normalizeAnimationEntry(e.animation),t),i=new I(n);return i.options=normalizeAnimationOptions(e.options),i},AnimationAstBuilderVisitor.prototype.visitAnimateChild=function(e,t){t.depCount++;var n=new F;return n.options=normalizeAnimationOptions(e.options),n},AnimationAstBuilderVisitor.prototype.visitAnimateRef=function(e,t){var n=this.visitReference(e.animation,t),i=new M(n);return i.options=normalizeAnimationOptions(e.options),i},AnimationAstBuilderVisitor.prototype.visitQuery=function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var r=normalizeSelector(e.selector),o=r[0],a=r[1];t.currentQuerySelector=n.length?n+" "+o:o,getOrSetAsInMap(t.collectedStyles,t.currentQuerySelector,{});var s=visitAnimationNode(this,normalizeAnimationEntry(e.animation),t);t.currentQuery=null,t.currentQuerySelector=n;var l=new z(o,i.limit||0,!!i.optional,a,s);return l.originalSelector=e.selector,l.options=normalizeAnimationOptions(e.options),l},AnimationAstBuilderVisitor.prototype.visitStagger=function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:resolveTiming(e.timings,t.errors,!0),i=visitAnimationNode(this,normalizeAnimationEntry(e.animation),t);return new L(n,i)},AnimationAstBuilderVisitor}(),J=function(){function AnimationAstBuilderContext(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}return AnimationAstBuilderContext}(),X=function(){function ElementInstructionMap(){this._map=new Map}return ElementInstructionMap.prototype.consume=function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t},ElementInstructionMap.prototype.append=function(e,t){var n=this._map.get(e);n||this._map.set(e,n=[]),n.push.apply(n,t)},ElementInstructionMap.prototype.has=function(e){return this._map.has(e)},ElementInstructionMap.prototype.clear=function(){this._map.clear()},ElementInstructionMap}(),ee=1,te=function(){function AnimationTimelineBuilderVisitor(){}return AnimationTimelineBuilderVisitor.prototype.buildKeyframes=function(e,t,n,i,r,o,a,s){void 0===s&&(s=[]),a=a||new X;var l=new ie(e,t,a,s,[]);l.options=o,l.currentTimeline.setStyles([i],null,l.errors,o),n.visit(this,l);var u=l.timelines.filter(function(e){return e.containsAnimation()});if(u.length&&Object.keys(r).length){var c=u[u.length-1];c.allowOnlyTimelineStyles()||c.setStyles([r],null,l.errors,o)}return u.length?u.map(function(e){return e.buildKeyframes()}):[createTimelineInstruction(t,[],[],[],0,0,"",!1)]},AnimationTimelineBuilderVisitor.prototype.visitTrigger=function(e,t){},AnimationTimelineBuilderVisitor.prototype.visitState=function(e,t){},AnimationTimelineBuilderVisitor.prototype.visitTransition=function(e,t){},AnimationTimelineBuilderVisitor.prototype.visitAnimateChild=function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e},AnimationTimelineBuilderVisitor.prototype.visitAnimateRef=function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e},AnimationTimelineBuilderVisitor.prototype._visitSubInstructions=function(e,t,n){var i=t.currentTimeline.currentTime,r=i,o=null!=n.duration?resolveTimingValue(n.duration):null,a=null!=n.delay?resolveTimingValue(n.delay):null;return 0!==o&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,o,a);r=Math.max(r,n.duration+n.delay)}),r},AnimationTimelineBuilderVisitor.prototype.visitReference=function(e,t){t.updateOptions(e.options,!0),e.animation.visit(this,t),t.previousNode=e},AnimationTimelineBuilderVisitor.prototype.visitSequence=function(e,t){var n=this,i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode instanceof N&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ne);var a=resolveTimingValue(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(function(e){return e.visit(n,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e},AnimationTimelineBuilderVisitor.prototype.visitGroup=function(e,t){var n=this,i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?resolveTimingValue(e.options.delay):0;e.steps.forEach(function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),a.visit(n,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(r),t.previousNode=e},AnimationTimelineBuilderVisitor.prototype.visitTiming=function(e,t){if(e instanceof V){return resolveTiming(t.params?interpolateParams(e.value,t.params,t.errors):e.value.toString(),t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}},AnimationTimelineBuilderVisitor.prototype.visitAnimate=function(e,t){var n=t.currentAnimateTimings=this.visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var r=e.style;r instanceof j?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e},AnimationTimelineBuilderVisitor.prototype.visitStyle=function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e},AnimationTimelineBuilderVisitor.prototype.visitKeyframes=function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,o=t.createSubContext(),a=o.currentTimeline;a.easing=n.easing,e.styles.forEach(function(e){var n=e.offset||0;a.forwardTime(n*r),a.setStyles(e.styles,e.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+r),t.previousNode=e},AnimationTimelineBuilderVisitor.prototype.visitQuery=function(e,t){var n=this,i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?resolveTimingValue(r.delay):0;o&&(t.previousNode instanceof N||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ne);var a=i,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;var l=null;s.forEach(function(i,r){t.currentQueryIndex=r;var s=t.createSubContext(e.options,i);o&&s.delayNextStep(o),i===t.element&&(l=s.currentTimeline),e.animation.visit(n,s),s.currentTimeline.applyStylesToKeyframe();var u=s.currentTimeline.currentTime;a=Math.max(a,u)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e},AnimationTimelineBuilderVisitor.prototype.visitStagger=function(e,t){var n=t.parentContext,i=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}s&&t.currentTimeline.delayNextStep(s);var l=t.currentTimeline.currentTime;e.animation.visit(this,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)},AnimationTimelineBuilderVisitor}(),ne={},ie=function(){function AnimationTimelineContext(e,t,n,i,r,o){this._driver=e,this.element=t,this.subInstructions=n,this.errors=i,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ne,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new re(t,0),r.push(this.currentTimeline)}return Object.defineProperty(AnimationTimelineContext.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),AnimationTimelineContext.prototype.updateOptions=function(e,t){var n=this;if(e){var i=e,r=this.options;null!=i.duration&&(r.duration=resolveTimingValue(i.duration)),null!=i.delay&&(r.delay=resolveTimingValue(i.delay));var o=i.params;if(o){var a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(e){t&&a.hasOwnProperty(e)||(a[e]=interpolateParams(o[e],a,n.errors))})}}},AnimationTimelineContext.prototype._copyOptions=function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(this.options.params).forEach(function(e){n[e]=t[e]})}}return e},AnimationTimelineContext.prototype.createSubContext=function(e,t,n){void 0===e&&(e=null);var i=t||this.element,r=new AnimationTimelineContext(this._driver,i,this.subInstructions,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r},AnimationTimelineContext.prototype.transformIntoNewTimeline=function(e){return this.previousNode=ne,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline},AnimationTimelineContext.prototype.appendInstructionToTimeline=function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new oe(e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i},AnimationTimelineContext.prototype.incrementTime=function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)},AnimationTimelineContext.prototype.delayNextStep=function(e){e>0&&this.currentTimeline.delayNextStep(e)},AnimationTimelineContext.prototype.invokeQuery=function(e,t,n,i,r,o){var a=[];if(i&&a.push(this.element),e.length>0){var s=1!=n;a.push.apply(a,this._driver.query(this.element,e,s))}return r||0!=a.length||o.push('`query("'+t+'")` returned zero elements. (Use `query("'+t+'", { optional: true })` if you wish to allow this.)'),a},AnimationTimelineContext}(),re=function(){function TimelineBuilder(e,t,n){this.element=e,this.startTime=t,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return TimelineBuilder.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},TimelineBuilder.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(TimelineBuilder.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),TimelineBuilder.prototype.delayNextStep=function(e){0==this.duration?this.startTime+=e:this.forwardTime(this.currentTime+e)},TimelineBuilder.prototype.fork=function(e,t){return this.applyStylesToKeyframe(),new TimelineBuilder(e,t||this.currentTime,this._elementTimelineStylesLookup)},TimelineBuilder.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},TimelineBuilder.prototype.forwardFrame=function(){this.duration+=ee,this._loadKeyframe()},TimelineBuilder.prototype.forwardTime=function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()},TimelineBuilder.prototype._updateStyle=function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}},TimelineBuilder.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},TimelineBuilder.prototype.applyEmptyStep=function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||r.AUTO_STYLE,t._currentKeyframe[e]=r.AUTO_STYLE}),this._currentEmptyStepKeyframe=this._currentKeyframe},TimelineBuilder.prototype.setStyles=function(e,t,n,i){var o=this;t&&(this._previousKeyframe.easing=t);var a=i&&i.params||{},s=flattenStyles(e,this._globalTimelineStyles);Object.keys(s).forEach(function(e){var t=interpolateParams(s[e],a,n);o._pendingStyles[e]=t,o._localTimelineStyles.hasOwnProperty(e)||(o._backFill[e]=o._globalTimelineStyles.hasOwnProperty(e)?o._globalTimelineStyles[e]:r.AUTO_STYLE),o._updateStyle(e,t)})},TimelineBuilder.prototype.applyStylesToKeyframe=function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){var i=t[n];e._currentKeyframe[n]=i}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))},TimelineBuilder.prototype.snapshotCurrentStyles=function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})},TimelineBuilder.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(TimelineBuilder.prototype,"properties",{get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e},enumerable:!0,configurable:!0}),TimelineBuilder.prototype.mergeTimelineCollectedStyles=function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var i=t._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&t._updateStyle(n,r.value)})},TimelineBuilder.prototype.buildKeyframes=function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach(function(a,s){var l=copyStyles(a,!0);Object.keys(l).forEach(function(e){var i=l[e];i==r["ɵPRE_STYLE"]?t.add(e):i==r.AUTO_STYLE&&n.add(e)}),i||(l.offset=s/e.duration),o.push(l)});var a=t.size?iteratorToArray(t.values()):[],s=n.size?iteratorToArray(n.values()):[];if(i){var l=o[0],u=copyObj(l);l.offset=0,u.offset=1,o=[l,u]}return createTimelineInstruction(this.element,o,a,s,this.duration,this.startTime,this.easing,!1)},TimelineBuilder}(),oe=function(e){function SubTimelineBuilder(t,n,i,r,o,a){void 0===a&&(a=!1);var s=e.call(this,t,o.delay)||this;return s.element=t,s.keyframes=n,s.preStyleProps=i,s.postStyleProps=r,s._stretchStartingKeyframe=a,s.timings={duration:o.duration,delay:o.delay,easing:o.easing},s}return i.a(SubTimelineBuilder,e),SubTimelineBuilder.prototype.containsAnimation=function(){return this.keyframes.length>1},SubTimelineBuilder.prototype.buildKeyframes=function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,r=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=i+n,s=n/a,l=copyStyles(e[0],!1);l.offset=0,o.push(l);var u=copyStyles(e[0],!1);u.offset=roundOffset(s),o.push(u);for(var c=e.length-1,p=1;p<=c;p++){var d=copyStyles(e[p],!1),m=d.offset,f=n+m*i;d.offset=roundOffset(f/a),o.push(d)}i=a,n=0,r="",e=o}return createTimelineInstruction(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)},SubTimelineBuilder}(re),ae=(function(){function Animation(e,t){this._driver=e;var n=[],i=buildAnimationAst(t,n);if(n.length){var r="animation validation failed:\n"+n.join("\n");throw new Error(r)}this._animationAst=i}Animation.prototype.buildTimelines=function(e,t,n,i,r){var o=Array.isArray(t)?normalizeStyles(t):t,a=Array.isArray(n)?normalizeStyles(n):n,s=[];r=r||new X;var l=buildAnimationTimelines(this._driver,e,this._animationAst,o,a,i,r,s);if(s.length){var u="animation building failed:\n"+s.join("\n");throw new Error(u)}return l}}(),function(){function AnimationStyleNormalizer(){}return AnimationStyleNormalizer}()),se=(function(){function NoopAnimationStyleNormalizer(){}NoopAnimationStyleNormalizer.prototype.normalizePropertyName=function(e,t){return e},NoopAnimationStyleNormalizer.prototype.normalizeStyleValue=function(e,t,n,i){return n}}(),function(e){function WebAnimationsStyleNormalizer(){return null!==e&&e.apply(this,arguments)||this}return i.a(WebAnimationsStyleNormalizer,e),WebAnimationsStyleNormalizer.prototype.normalizePropertyName=function(e,t){return dashCaseToCamelCase(e)},WebAnimationsStyleNormalizer.prototype.normalizeStyleValue=function(e,t,n,i){var r="",o=n.toString().trim();if(le[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for "+e+":"+n)}return o+r},WebAnimationsStyleNormalizer}(ae)),le=makeBooleanMap("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")),ue=function(){function AnimationTransitionFactory(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}return AnimationTransitionFactory.prototype.match=function(e,t){return oneOrMoreTransitionsMatch(this.ast.matchers,e,t)},AnimationTransitionFactory.prototype.build=function(e,t,n,i,r,o){var a=mergeAnimationOptions(this.ast.options||{},r||{}),s=this._stateStyles["*"]||{},l=this._stateStyles[n]||s,u=this._stateStyles[i]||s,c=[],p=buildAnimationTimelines(e,t,this.ast.animation,l,u,a,o,c);if(c.length){var d="animation building failed:\n"+c.join("\n");throw new Error(d)}var m=new Map,f=new Map,h=new Set;p.forEach(function(e){var n=e.element,i=getOrSetAsInMap(m,n,{});e.preStyleProps.forEach(function(e){return i[e]=!0});var r=getOrSetAsInMap(f,n,{});e.postStyleProps.forEach(function(e){return r[e]=!0}),n!==t&&h.add(n)});var y=iteratorToArray(h.values());return createTransitionInstruction(t,this._triggerName,n,i,"void"===i,l,u,p,y,m,f)},AnimationTransitionFactory}(),ce=function(){function AnimationTrigger(e,t){var n=this;this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(function(e){var t=n.states[e.name]={};e.style.styles.forEach(function(e){"object"==typeof e&&copyStyles(e,!1,t)})}),balanceProperties(this.states,"true","1"),balanceProperties(this.states,"false","0"),t.transitions.forEach(function(t){n.transitionFactories.push(new ue(e,t,n.states))}),this.fallbackTransition=createFallbackTransition(e,this.states)}return Object.defineProperty(AnimationTrigger.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),AnimationTrigger.prototype.matchTransition=function(e,t){return this.transitionFactories.find(function(n){return n.match(e,t)})||null},AnimationTrigger}(),pe=new X,de=function(){function TimelineAnimationEngine(e,t){this._driver=e,this._normalizer=t,this._animations={},this._playersById={},this.players=[]}return TimelineAnimationEngine.prototype.register=function(e,t){var n=[],i=buildAnimationAst(t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i},TimelineAnimationEngine.prototype._buildPlayer=function(e,t,n){var i=e.element,r=normalizeKeyframes(this._driver,this._normalizer,i,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[])},TimelineAnimationEngine.prototype.create=function(e,t,n){var i=this;void 0===n&&(n={});var o,a=[],s=this._animations[e],l=new Map;if(s?(o=buildAnimationTimelines(this._driver,t,s,{},{},n,pe,a),o.forEach(function(e){var t=getOrSetAsInMap(l,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})})):(a.push("The requested animation doesn't exist or has already been destroyed"),o=[]),a.length)throw new Error("Unable to create the animation due to the following errors: "+a.join("\n"));l.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=i._driver.computeStyle(t,n,r.AUTO_STYLE)})});var u=o.map(function(e){var t=l.get(e.element);return i._buildPlayer(e,{},t)}),c=optimizeGroupPlayer(u);return this._playersById[e]=c,c.onDestroy(function(){return i.destroy(e)}),this.players.push(c),c},TimelineAnimationEngine.prototype.destroy=function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)},TimelineAnimationEngine.prototype._getPlayer=function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t},TimelineAnimationEngine.prototype.listen=function(e,t,n,i){var r=makeAnimationEvent(t,"","","");return listenOnPlayer(this._getPlayer(e),n,r,i),function(){}},TimelineAnimationEngine.prototype.command=function(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n){var r=i[0]||{};return void this.create(e,t,r)}var o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}},TimelineAnimationEngine}(),me=[],fe={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!1},he={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!0},ye="__ng_removed",ve=function(){function StateValue(e){var t=e&&e.hasOwnProperty("value"),n=t?e.value:e;if(this.value=normalizeTriggerValue(n),t){var i=copyObj(e);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}return StateValue.prototype.absorbOptions=function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}},StateValue}(),ge="void",be=new ve(ge),Ae=new ve("DELETED"),_e=y+"-temp",Te="."+_e,Ee=function(){function AnimationTransitionNamespace(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,addClass(t,this._hostClassName)}return AnimationTransitionNamespace.prototype.listen=function(e,t,n,i){var r=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+t+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+t+'" because the provided event is undefined!');if(!isTriggerEventValid(n))throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+t+'" is not supported!');var o=getOrSetAsInMap(this._elementListeners,e,[]),a={name:t,phase:n,callback:i};o.push(a);var s=getOrSetAsInMap(this._engine.statesByElement,e,{});return s.hasOwnProperty(t)||(addClass(e,A),addClass(e,A+"-"+t),s[t]=null),function(){r._engine.afterFlush(function(){var e=o.indexOf(a);e>=0&&o.splice(e,1),r._triggers[t]||delete s[t]})}},AnimationTransitionNamespace.prototype.register=function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)},AnimationTransitionNamespace.prototype._getTrigger=function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'+e+'" has not been registered!');return t},AnimationTransitionNamespace.prototype.trigger=function(e,t,n,i){var r=this;void 0===i&&(i=!0);var o=this._getTrigger(t),a=new xe(this.id,t,e),s=this._engine.statesByElement.get(e);s||(addClass(e,A),addClass(e,A+"-"+t),this._engine.statesByElement.set(e,s={}));var l=s[t],u=new ve(n);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),s[t]=u,l){if(l===Ae)return a}else l=be;var c=getOrSetAsInMap(this._engine.playersByElement,e,[]);c.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});var p=o.matchTransition(l.value,u.value),d=!1;if(!p){if(!i)return;p=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:u,player:a,isFallbackTransition:d}),d||addClass(e,T),a.onDone(function(){removeClass(e,T);var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}}),this.players.push(a),c.push(a),a},AnimationTransitionNamespace.prototype.deregister=function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,i){t._elementListeners.set(i,n.filter(function(t){return t.name!=e}))})},AnimationTransitionNamespace.prototype.clearElementCache=function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))},AnimationTransitionNamespace.prototype._destroyInnerNodes=function(e,t,n){var i=this;void 0===n&&(n=!1),this._engine.driver.query(e,_,!0).forEach(function(e){if(n&&containsClass(e,i._hostClassName)){var r=i._engine.namespacesByHostElement.get(e);r&&r.removeNode(e,t,!0),i.removeNode(e,t,!0)}else i.clearElementCache(e)})},AnimationTransitionNamespace.prototype.removeNode=function(e,t,n){var i=this,r=this._engine;!n&&e.childElementCount&&this._destroyInnerNodes(e,t,!0);var o=r.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,ge,!1);n&&a.push(n)}}),a.length)return r.markElementAsRemoved(this.id,e,!0,t),void optimizeGroupPlayer(a).onDone(function(){return r.processLeaveNode(e)})}var s=!1;if(r.totalAnimations){var l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)s=!0;else for(var u=e;u=u.parentNode;){var c=r.statesByElement.get(u);if(c){s=!0;break}}}var p=this._elementListeners.get(e);if(p){var d=new Set;p.forEach(function(t){var n=t.name;if(!d.has(n)){d.add(n);var o=i._triggers[n],a=o.fallbackTransition,s=r.statesByElement.get(e),l=s[n]||be,u=new ve(ge),c=new xe(i.id,n,e);i._engine.totalQueuedPlayers++,i._queue.push({element:e,triggerName:n,transition:a,fromState:l,toState:u,player:c,isFallbackTransition:!0})}})}s?r.markElementAsRemoved(this.id,e,!1,t):(r.afterFlush(function(){return i.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))},AnimationTransitionNamespace.prototype.insertNode=function(e,t){addClass(e,this._hostClassName)},AnimationTransitionNamespace.prototype.drainQueuedTransitions=function(e){var t=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var o=i.element,a=t._elementListeners.get(o);a&&a.forEach(function(t){if(t.name==i.triggerName){var n=makeAnimationEvent(o,i.triggerName,i.fromState.value,i.toState.value);n._data=e,listenOnPlayer(i.player,t.phase,n,t.callback)}}),r.markedForDestroy?t._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(e,n){var i=e.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:t._engine.driver.containsElement(e.element,n.element)?1:-1})},AnimationTransitionNamespace.prototype.destroy=function(e){this.players.forEach(function(e){return e.destroy()}),this._destroyInnerNodes(this.hostElement,e)},AnimationTransitionNamespace.prototype.elementContainsData=function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t},AnimationTransitionNamespace}(),Se=function(){function TransitionAnimationEngine(e,t){this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return TransitionAnimationEngine.prototype._onRemovalComplete=function(e,t){this.onRemovalComplete(e,t)},Object.defineProperty(TransitionAnimationEngine.prototype,"queuedPlayers",{get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e},enumerable:!0,configurable:!0}),TransitionAnimationEngine.prototype.createNamespace=function(e,t){var n=new Ee(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n},TransitionAnimationEngine.prototype._balanceNamespaceList=function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--){var o=this._namespaceList[r];if(this.driver.containsElement(o.hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e},TransitionAnimationEngine.prototype.register=function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n},TransitionAnimationEngine.prototype.registerTrigger=function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++},TransitionAnimationEngine.prototype.destroy=function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(t)})}},TransitionAnimationEngine.prototype._fetchNamespace=function(e){return this._namespaceLookup[e]},TransitionAnimationEngine.prototype.trigger=function(e,t,n,i){return!!isElementNode(t)&&(this._fetchNamespace(e).trigger(t,n,i),!0)},TransitionAnimationEngine.prototype.insertNode=function(e,t,n,i){if(isElementNode(t)){var r=t[ye];r&&r.setForRemoval&&(r.setForRemoval=!1),e&&this._fetchNamespace(e).insertNode(t,n),i&&this.collectEnterElement(t)}},TransitionAnimationEngine.prototype.collectEnterElement=function(e){this.collectedEnterElements.push(e)},TransitionAnimationEngine.prototype.removeNode=function(e,t,n,i){if(!isElementNode(t))return void this._onRemovalComplete(t,n);var r=e?this._fetchNamespace(e):null;r?r.removeNode(t,n,i):this.markElementAsRemoved(e,t,!1,n)},TransitionAnimationEngine.prototype.markElementAsRemoved=function(e,t,n,i){this.collectedLeaveElements.push(t),t[ye]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}},TransitionAnimationEngine.prototype.listen=function(e,t,n,i,r){return isElementNode(t)?this._fetchNamespace(e).listen(t,n,i,r):function(){}},TransitionAnimationEngine.prototype._buildInstruction=function(e,t){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,e.toState.options,t)},TransitionAnimationEngine.prototype.destroyInnerAnimations=function(e){var t=this;this.driver.query(e,_,!0).forEach(function(e){var n=t.playersByElement.get(e);n&&n.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()});var i=t.statesByElement.get(e);i&&Object.keys(i).forEach(function(e){return i[e]=Ae})})},TransitionAnimationEngine.prototype.whenRenderingDone=function(){var e=this;return new Promise(function(t){if(e.players.length)return optimizeGroupPlayer(e.players).onDone(function(){return t()});t()})},TransitionAnimationEngine.prototype.processLeaveNode=function(e){var t=e[ye];if(t&&t.setForRemoval){if(e[ye]=fe,t.namespaceId){this.destroyInnerAnimations(e);var n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}},TransitionAnimationEngine.prototype.flush=function(e){var t=this;void 0===e&&(e=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length))n=this._flushAnimations(e);else for(var i=0;i<this.collectedLeaveElements.length;i++){var r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?optimizeGroupPlayer(n).onDone(function(){o.forEach(function(e){return e()})}):o.forEach(function(e){return e()})}},TransitionAnimationEngine.prototype._flushAnimations=function(e){for(var t=this,n=new X,i=[],o=new Map,a=[],s=new Map,l=new Map,u=new Map,c=getBodyNode(),p=this.collectedEnterElements.length?collectEnterElements(this.driver,this.collectedEnterElements):[],d=[],m=[],f=0;f<this.collectedLeaveElements.length;f++){var h=this.collectedLeaveElements[f],g=h[ye];g&&g.setForRemoval&&(addClass(h,v),d.push(h),g.hasAnimation||m.push(h))}for(var f=this._namespaceList.length-1;f>=0;f--){this._namespaceList[f].drainQueuedTransitions(e).forEach(function(e){var r=e.player,o=e.element;if(!c||!t.driver.containsElement(c,o))return void r.destroy();var p=t._buildInstruction(e,n);if(p){if(e.isFallbackTransition)return r.onStart(function(){return eraseStyles(o,p.fromStyles)}),r.onDestroy(function(){return setStyles(o,p.toStyles)}),void i.push(r);p.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),n.append(o,p.timelines);var d={instruction:p,player:r,element:o};a.push(d),p.queriedElements.forEach(function(e){return getOrSetAsInMap(s,e,[]).push(r)}),p.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var i=l.get(t);i||l.set(t,i=new Set),n.forEach(function(e){return i.add(e)})}}),p.postStyleProps.forEach(function(e,t){var n=Object.keys(e),i=u.get(t);i||u.set(t,i=new Set),n.forEach(function(e){return i.add(e)})})}})}for(var b=[],f=0;f<p.length;f++){var h=p[f];n.has(h)||b.push(h)}var A=new Map,_=[];a.forEach(function(e){var i=e.element;n.has(i)&&(_.unshift(i),t._beforeAnimationBuild(e.player.namespaceId,e.instruction,A))}),i.forEach(function(e){var n=e.element;t._getPreviousPlayers(n,!1,e.namespaceId,e.triggerName,null).forEach(function(e){getOrSetAsInMap(A,n,[]).push(e)})}),A.forEach(function(e){return e.forEach(function(e){return e.destroy()})});var T=l.size?cloakAndComputeStyles(this.driver,b,l,r["ɵPRE_STYLE"]):new Map,E=cloakAndComputeStyles(this.driver,m,u,r.AUTO_STYLE),S=[],x=[];a.forEach(function(e){var r=e.element,a=e.player,s=e.instruction;if(n.has(r)){var l=t._buildAnimation(a.namespaceId,s,A,o,T,E);a.setRealPlayer(l);for(var u=null,c=0;c<_.length;c++){var p=_[c];if(p===r)break;if(t.driver.containsElement(p,r)){u=p;break}}if(u){var d=t.playersByElement.get(u);d&&d.length&&(a.parentPlayer=optimizeGroupPlayer(d)),i.push(a)}else S.push(a)}else eraseStyles(r,s.fromStyles),a.onDestroy(function(){return setStyles(r,s.toStyles)}),x.push(a)}),x.forEach(function(e){var t=o.get(e.element);if(t&&t.length){var n=optimizeGroupPlayer(t);e.setRealPlayer(n)}}),i.forEach(function(e){e.parentPlayer?e.parentPlayer.onDestroy(function(){return e.destroy()}):e.destroy()});for(var f=0;f<d.length;f++){var h=d[f],w=s.get(h);if(w)removeNodesAfterAnimationDone(this,h,w);else{var g=h[ye];g&&!g.hasAnimation&&this.processLeaveNode(h)}}return S.forEach(function(e){t.players.push(e),e.onDone(function(){e.destroy();var n=t.players.indexOf(e);t.players.splice(n,1)}),e.play()}),p.forEach(function(e){return removeClass(e,y)}),S},TransitionAnimationEngine.prototype.elementContainsData=function(e,t){var n=!1,i=t[ye];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n},TransitionAnimationEngine.prototype.afterFlush=function(e){this._flushFns.push(e)},TransitionAnimationEngine.prototype.afterFlushAnimationsDone=function(e){this._whenQuietFns.push(e)},TransitionAnimationEngine.prototype._getPreviousPlayers=function(e,t,n,i,r){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var l=!r||r==ge;s.forEach(function(e){e.queued||(l||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(function(e){return(!n||n==e.namespaceId)&&(!i||i==e.triggerName)})),o},TransitionAnimationEngine.prototype._beforeAnimationBuild=function(e,t,n){var i=this;eraseStyles(t.element,t.fromStyles);var r=t.triggerName,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:r;t.timelines.map(function(e){var r=e.element,l=r!==o,u=getOrSetAsInMap(n,r,[]);i._getPreviousPlayers(r,l,a,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),u.push(e)})})},TransitionAnimationEngine.prototype._buildAnimation=function(e,t,n,i,o,a){var s=this,l=t.triggerName,u=t.element,c=[],p=new Set,d=new Set,m=t.timelines.map(function(t){var m=t.element,f=m[ye];if(f&&f.removedBeforeQueried)return new r.NoopAnimationPlayer;var h=m!==u,y=me;if(!p.has(m)){p.add(m);var v=n.get(m);v&&(y=v.map(function(e){return e.getRealPlayer()}))}var g=o.get(m),b=a.get(m),A=normalizeKeyframes(s.driver,s._normalizer,m,t.keyframes,g,b),_=s._buildPlayer(t,A,y);if(t.subTimeline&&i&&d.add(m),h){var T=new xe(e,l,m);T.setRealPlayer(_),c.push(T)}return _});c.forEach(function(e){getOrSetAsInMap(s.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){deleteOrUnsetInMap(s.playersByQueriedElement,e.element,e)})}),p.forEach(function(e){return addClass(e,T)});var f=optimizeGroupPlayer(m);return f.onDestroy(function(){p.forEach(function(e){return removeClass(e,T)}),setStyles(u,t.toStyles)}),d.forEach(function(e){getOrSetAsInMap(i,e,[]).push(f)}),f},TransitionAnimationEngine.prototype._buildPlayer=function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new r.NoopAnimationPlayer},TransitionAnimationEngine}(),xe=function(){function TransitionAnimationPlayer(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new r.NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this._destroyed=!1,this.markedForDestroy=!1}return Object.defineProperty(TransitionAnimationPlayer.prototype,"queued",{get:function(){return 0==this._containsRealPlayer},enumerable:!0,configurable:!0}),Object.defineProperty(TransitionAnimationPlayer.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),TransitionAnimationPlayer.prototype.setRealPlayer=function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return listenOnPlayer(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0)},TransitionAnimationPlayer.prototype.getRealPlayer=function(){return this._player},TransitionAnimationPlayer.prototype._queueEvent=function(e,t){getOrSetAsInMap(this._queuedCallbacks,e,[]).push(t)},TransitionAnimationPlayer.prototype.onDone=function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)},TransitionAnimationPlayer.prototype.onStart=function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)},TransitionAnimationPlayer.prototype.onDestroy=function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)},TransitionAnimationPlayer.prototype.init=function(){this._player.init()},TransitionAnimationPlayer.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},TransitionAnimationPlayer.prototype.play=function(){!this.queued&&this._player.play()},TransitionAnimationPlayer.prototype.pause=function(){!this.queued&&this._player.pause()},TransitionAnimationPlayer.prototype.restart=function(){!this.queued&&this._player.restart()},TransitionAnimationPlayer.prototype.finish=function(){this._player.finish()},TransitionAnimationPlayer.prototype.destroy=function(){this._destroyed=!0,this._player.destroy()},TransitionAnimationPlayer.prototype.reset=function(){!this.queued&&this._player.reset()},TransitionAnimationPlayer.prototype.setPosition=function(e){this.queued||this._player.setPosition(e)},TransitionAnimationPlayer.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},Object.defineProperty(TransitionAnimationPlayer.prototype,"totalTime",{get:function(){return this._player.totalTime},enumerable:!0,configurable:!0}),TransitionAnimationPlayer}(),we="$$classes",Ce=function(){function AnimationEngine(e,t){var n=this;this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Se(e,t),this._timelineEngine=new de(e,t),this._transitionEngine.onRemovalComplete=function(e,t){n.onRemovalComplete(e,t)}}return AnimationEngine.prototype.registerTrigger=function(e,t,n,i,r){var o=e+"-"+i,a=this._triggerCache[o];if(!a){var s=[],l=buildAnimationAst(r,s);if(s.length)throw new Error('The animation trigger "'+i+'" has failed to build due to the following errors:\n - '+s.join("\n - "));a=buildTrigger(i,l),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)},AnimationEngine.prototype.register=function(e,t){this._transitionEngine.register(e,t)},AnimationEngine.prototype.destroy=function(e,t){this._transitionEngine.destroy(e,t)},AnimationEngine.prototype.onInsert=function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)},AnimationEngine.prototype.onRemove=function(e,t,n){this._transitionEngine.removeNode(e,t,n)},AnimationEngine.prototype.setProperty=function(e,t,n,i){if("@"==n.charAt(0)){var r=parseTimelineCommand(n),o=r[0],a=r[1],s=i;return this._timelineEngine.command(o,t,a,s),!1}return this._transitionEngine.trigger(e,t,n,i)},AnimationEngine.prototype.listen=function(e,t,n,i,r){if("@"==n.charAt(0)){var o=parseTimelineCommand(n),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,r)}return this._transitionEngine.listen(e,t,n,i,r)},AnimationEngine.prototype.flush=function(e){void 0===e&&(e=-1),this._transitionEngine.flush(e)},Object.defineProperty(AnimationEngine.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),AnimationEngine.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},AnimationEngine}(),Pe=function(){function WebAnimationsPlayer(e,t,n,i){void 0===i&&(i=[]);var r=this;this.element=e,this.keyframes=t,this.options=n,this.previousPlayers=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay,this.previousStyles={},i.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return r.previousStyles[e]=t[e]})})}return WebAnimationsPlayer.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},WebAnimationsPlayer.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},WebAnimationsPlayer.prototype._buildPlayer=function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes.map(function(e){return copyStyles(e,!1)}),n=Object.keys(this.previousStyles);if(n.length){var i=t[0],r=[];if(n.forEach(function(t){i.hasOwnProperty(t)||r.push(t),i[t]=e.previousStyles[t]}),r.length)for(var o=this,a=function(){var e=t[s];r.forEach(function(t){e[t]=_computeStyle(o.element,t)})},s=1;s<t.length;s++)a()}this._player=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this._player.addEventListener("finish",function(){return e._onFinish()})}},WebAnimationsPlayer.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this._player.pause()},WebAnimationsPlayer.prototype._triggerWebAnimation=function(e,t,n){return e.animate(t,n)},Object.defineProperty(WebAnimationsPlayer.prototype,"domPlayer",{get:function(){return this._player},enumerable:!0,configurable:!0}),WebAnimationsPlayer.prototype.onStart=function(e){this._onStartFns.push(e)},WebAnimationsPlayer.prototype.onDone=function(e){this._onDoneFns.push(e)},WebAnimationsPlayer.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},WebAnimationsPlayer.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0),this._player.play()},WebAnimationsPlayer.prototype.pause=function(){this.init(),this._player.pause()},WebAnimationsPlayer.prototype.finish=function(){this.init(),this._onFinish(),this._player.finish()},WebAnimationsPlayer.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},WebAnimationsPlayer.prototype._resetDomPlayerState=function(){this._player&&this._player.cancel()},WebAnimationsPlayer.prototype.restart=function(){this.reset(),this.play()},WebAnimationsPlayer.prototype.hasStarted=function(){return this._started},WebAnimationsPlayer.prototype.destroy=function(){this._destroyed||(this._resetDomPlayerState(),this._onFinish(),this._destroyed=!0,this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},WebAnimationsPlayer.prototype.setPosition=function(e){this._player.currentTime=e*this.time},WebAnimationsPlayer.prototype.getPosition=function(){return this._player.currentTime/this.time},Object.defineProperty(WebAnimationsPlayer.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),WebAnimationsPlayer.prototype.beforeDestroy=function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:_computeStyle(e.element,n))}),this.currentSnapshot=t},WebAnimationsPlayer}(),Oe=function(){function WebAnimationsDriver(){}return WebAnimationsDriver.prototype.matchesElement=function(e,t){return c(e,t)},WebAnimationsDriver.prototype.containsElement=function(e,t){return p(e,t)},WebAnimationsDriver.prototype.query=function(e,t,n){return d(e,t,n)},WebAnimationsDriver.prototype.computeStyle=function(e,t,n){return window.getComputedStyle(e)[t]},WebAnimationsDriver.prototype.animate=function(e,t,n,i,r,o){void 0===o&&(o=[]);var a=0==i?"both":"forwards",s={duration:n,delay:i,fill:a};r&&(s.easing=r);var l=o.filter(function(e){return e instanceof Pe});return new Pe(e,t,s,l)},WebAnimationsDriver}()},208:function(e,t,n){"use strict";function issueAnimationCommand(e,t,n,i,r){return e.setProperty(t,"@@"+n+":"+i,r)}function resolveElementFromTarget(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function parseTriggerCallbackName(e){var t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}function instantiateSupportedAnimationDriver(){return n.i(s.d)()?new s.e:new s.f}function instantiateDefaultStyleNormalizer(){return new s.g}function instantiateRendererFactory(e,t,n){return new p(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),r=n(9),o=n(51),a=n(59),s=n(206);n.d(t,"BrowserAnimationsModule",function(){return g}),n.d(t,"NoopAnimationsModule",function(){return b}),n.d(t,"ɵBrowserAnimationBuilder",function(){return l}),n.d(t,"ɵBrowserAnimationFactory",function(){return u}),n.d(t,"ɵAnimationRenderer",function(){return m}),n.d(t,"ɵAnimationRendererFactory",function(){return p}),n.d(t,"ɵa",function(){return d}),n.d(t,"ɵf",function(){return y}),n.d(t,"ɵg",function(){return v}),n.d(t,"ɵb",function(){return f}),n.d(t,"ɵd",function(){return instantiateDefaultStyleNormalizer}),n.d(t,"ɵe",function(){return instantiateRendererFactory}),n.d(t,"ɵc",function(){return instantiateSupportedAnimationDriver});/**
 * @license Angular v4.2.4
 * (c) 2010-2017 Google, Inc. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l=function(e){function BrowserAnimationBuilder(t){var n=e.call(this)||this;n._nextAnimationId=0;var i={id:"0",encapsulation:r.ViewEncapsulation.None,styles:[],data:{animation:[]}};return n._renderer=t.createRenderer(document.body,i),n}return i.a(BrowserAnimationBuilder,e),BrowserAnimationBuilder.prototype.build=function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var i=Array.isArray(e)?n.i(a.sequence)(e):e;return issueAnimationCommand(this._renderer,null,t,"register",[i]),new u(t,this._renderer)},BrowserAnimationBuilder}(a.AnimationBuilder);l.decorators=[{type:r.Injectable}],l.ctorParameters=function(){return[{type:r.RendererFactory2}]};var u=function(e){function BrowserAnimationFactory(t,n){var i=e.call(this)||this;return i._id=t,i._renderer=n,i}return i.a(BrowserAnimationFactory,e),BrowserAnimationFactory.prototype.create=function(e,t){return new c(this._id,e,t||{},this._renderer)},BrowserAnimationFactory}(a.AnimationFactory),c=function(){function RendererAnimationPlayer(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return RendererAnimationPlayer.prototype._listen=function(e,t){return this._renderer.listen(this.element,"@@"+this.id+":"+e,t)},RendererAnimationPlayer.prototype._command=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return issueAnimationCommand(this._renderer,this.element,this.id,e,t)},RendererAnimationPlayer.prototype.onDone=function(e){this._listen("done",e)},RendererAnimationPlayer.prototype.onStart=function(e){this._listen("start",e)},RendererAnimationPlayer.prototype.onDestroy=function(e){this._listen("destroy",e)},RendererAnimationPlayer.prototype.init=function(){this._command("init")},RendererAnimationPlayer.prototype.hasStarted=function(){return this._started},RendererAnimationPlayer.prototype.play=function(){this._command("play"),this._started=!0},RendererAnimationPlayer.prototype.pause=function(){this._command("pause")},RendererAnimationPlayer.prototype.restart=function(){this._command("restart")},RendererAnimationPlayer.prototype.finish=function(){this._command("finish")},RendererAnimationPlayer.prototype.destroy=function(){this._command("destroy")},RendererAnimationPlayer.prototype.reset=function(){this._command("reset")},RendererAnimationPlayer.prototype.setPosition=function(e){this._command("setPosition",e)},RendererAnimationPlayer.prototype.getPosition=function(){return 0},RendererAnimationPlayer}(),p=function(){function AnimationRendererFactory(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,t.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return AnimationRendererFactory.prototype.createRenderer=function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var r=this._rendererCache.get(i);return r||(r=new d("",i,this.engine),this._rendererCache.set(i,r)),r}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach(function(t){return n.engine.registerTrigger(o,a,e,t.name,t)}),new m(this,a,i,this.engine)},AnimationRendererFactory.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},AnimationRendererFactory.prototype._scheduleCountTask=function(){var e=this;Zone.current.scheduleMicroTask("incremenet the animation microtask",function(){return e._microtaskId++})},AnimationRendererFactory.prototype.scheduleListenerCallback=function(e,t,n){var i=this;if(e>=0&&e<this._microtaskId)return void this._zone.run(function(){return t(n)});0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(e){(0,e[0])(e[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n])},AnimationRendererFactory.prototype.end=function(){var e=this;this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()},AnimationRendererFactory.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},AnimationRendererFactory}();p.decorators=[{type:r.Injectable}],p.ctorParameters=function(){return[{type:r.RendererFactory2},{type:s.a},{type:r.NgZone}]};var d=function(){function BaseAnimationRenderer(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(e){return t.destroyNode(e)}:null}return Object.defineProperty(BaseAnimationRenderer.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),BaseAnimationRenderer.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},BaseAnimationRenderer.prototype.createElement=function(e,t){return this.delegate.createElement(e,t)},BaseAnimationRenderer.prototype.createComment=function(e){return this.delegate.createComment(e)},BaseAnimationRenderer.prototype.createText=function(e){return this.delegate.createText(e)},BaseAnimationRenderer.prototype.appendChild=function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)},BaseAnimationRenderer.prototype.insertBefore=function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)},BaseAnimationRenderer.prototype.removeChild=function(e,t){this.engine.onRemove(this.namespaceId,t,this.delegate)},BaseAnimationRenderer.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},BaseAnimationRenderer.prototype.parentNode=function(e){return this.delegate.parentNode(e)},BaseAnimationRenderer.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},BaseAnimationRenderer.prototype.setAttribute=function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)},BaseAnimationRenderer.prototype.removeAttribute=function(e,t,n){this.delegate.removeAttribute(e,t,n)},BaseAnimationRenderer.prototype.addClass=function(e,t){this.delegate.addClass(e,t)},BaseAnimationRenderer.prototype.removeClass=function(e,t){this.delegate.removeClass(e,t)},BaseAnimationRenderer.prototype.setStyle=function(e,t,n,i){this.delegate.setStyle(e,t,n,i)},BaseAnimationRenderer.prototype.removeStyle=function(e,t,n){this.delegate.removeStyle(e,t,n)},BaseAnimationRenderer.prototype.setProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},BaseAnimationRenderer.prototype.setValue=function(e,t){this.delegate.setValue(e,t)},BaseAnimationRenderer.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},BaseAnimationRenderer}(),m=function(e){function AnimationRenderer(t,n,i,r){var o=e.call(this,n,i,r)||this;return o.factory=t,o.namespaceId=n,o}return i.a(AnimationRenderer,e),AnimationRenderer.prototype.setProperty=function(e,t,n){"@"==t.charAt(0)?(t=t.substr(1),this.engine.setProperty(this.namespaceId,e,t,n)):this.delegate.setProperty(e,t,n)},AnimationRenderer.prototype.listen=function(e,t,n){var i=this;if("@"==t.charAt(0)){var r=resolveElementFromTarget(e),o=t.substr(1),a="";return"@"!=o.charAt(0)&&(s=parseTriggerCallbackName(o),o=s[0],a=s[1]),this.engine.listen(this.namespaceId,r,o,a,function(e){var t=e._data||-1;i.factory.scheduleListenerCallback(t,n,e)})}return this.delegate.listen(e,t,n);var s},AnimationRenderer}(d),f=function(e){function InjectableAnimationEngine(t,n){return e.call(this,t,n)||this}return i.a(InjectableAnimationEngine,e),InjectableAnimationEngine}(s.a);f.decorators=[{type:r.Injectable}],f.ctorParameters=function(){return[{type:s.b},{type:s.c}]};var h=[{provide:a.AnimationBuilder,useClass:l},{provide:s.c,useFactory:instantiateDefaultStyleNormalizer},{provide:s.a,useClass:f},{provide:r.RendererFactory2,useFactory:instantiateRendererFactory,deps:[o["ɵDomRendererFactory2"],s.a,r.NgZone]}],y=[{provide:s.b,useFactory:instantiateSupportedAnimationDriver}].concat(h),v=[{provide:s.b,useClass:s.f}].concat(h),g=function(){function BrowserAnimationsModule(){}return BrowserAnimationsModule}();g.decorators=[{type:r.NgModule,args:[{imports:[o.BrowserModule],providers:y}]}],g.ctorParameters=function(){return[]};var b=function(){function NoopAnimationsModule(){}return NoopAnimationsModule}();b.decorators=[{type:r.NgModule,args:[{imports:[o.BrowserModule],providers:v}]}],b.ctorParameters=function(){return[]}},209:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);n(370),n(369);var o=function(){function AppComponent(){}return AppComponent}();o=i([r.Component({selector:"app",template:n(371)})],o),t.AppComponent=o},210:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(59),s=function(){function AuthComponent(e){this.element=e,this.onClose=new o.EventEmitter,this.opened=!1}return AuthComponent.prototype.ngOnChanges=function(e){this.opened=e.isOpened.currentValue},AuthComponent.prototype.ngAfterViewChecked=function(){if(this.opened){var e=this.element.nativeElement.children[1];e.style.top=window.innerHeight/2-e.clientHeight/2+"px",e.style.left=window.innerWidth/2-e.clientWidth/2+"px"}},AuthComponent.prototype.onWindowResize=function(e){if(this.opened){var t=this.element.nativeElement.children[1];t.style.left=e.target.innerWidth/2-t.clientWidth/2+"px",t.style.top=e.target.innerHeight/2-t.clientHeight/2+"px"}},AuthComponent.prototype.close=function(){this.opened=!1,this.onClose.emit()},AuthComponent}();i([o.Input(),r("design:type",Boolean)],s.prototype,"isOpened",void 0),i([o.Output(),r("design:type",o.EventEmitter)],s.prototype,"onClose",void 0),i([o.HostListener("window:resize",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],s.prototype,"onWindowResize",null),s=i([o.Component({selector:"auth",template:n(372),styles:[n(380)],animations:[a.trigger("fog",[a.state("true",a.style({background:"rgba(0, 0, 0, 0.5)"})),a.transition("void => *",a.animate("200ms linear")),a.transition("* => void",a.animate("200ms linear"))]),a.trigger("popup",[a.state("true",a.style({transform:"scale(1.0)"})),a.state("false",a.style({transform:"scale(0.1)"})),a.transition("void => true",a.animate("100ms ease-in")),a.transition("* => void",a.animate("100ms linear"))])]}),r("design:paramtypes",[o.ElementRef])],s),t.AuthComponent=s},211:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(92),s=function(){function CanActivatePhoneBookGuard(e){this.phoneBook=e}return CanActivatePhoneBookGuard.prototype.canActivate=function(e,t){return this.phoneBook.fetchDivisionList().map(function(){return!0})},CanActivatePhoneBookGuard}();s=i([o.Injectable(),r("design:paramtypes",[a.PhoneBookService])],s),t.CanActivatePhoneBookGuard=s},212:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(128),s=function(){function ContactGroupComponent(){}return ContactGroupComponent}();i([o.Input(),r("design:type",a.ContactGroup)],s.prototype,"group",void 0),s=i([o.Component({selector:"contact-group",template:n(373),styles:[n(381)]})],s),t.ContactGroupComponent=s},213:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(91),s=function(){function ContactComponent(){}return ContactComponent}();i([o.Input(),r("design:type",a.Contact)],s.prototype,"contact",void 0),s=i([o.Component({selector:"contact",template:n(374),styles:[n(382)]})],s),t.ContactComponent=s},214:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=function(){function DivisionOrderPipe(){}return DivisionOrderPipe.prototype.transform=function(e){return e.sort(function(e,t){return e.order<t.order?-1:e.order>t.order?1:e.order===t.order?0:void 0})},DivisionOrderPipe}();o=i([r.Pipe({name:"divisionOrder"})],o),t.DivisionOrderPipe=o},215:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(59),s=n(129),l=function(){function DivisionTreeItemComponent(){this.division=[],this.level=0,this.isOpened=!1,this.isSelected=!1}return DivisionTreeItemComponent.prototype.expand=function(){this.isOpened=!0},DivisionTreeItemComponent.prototype.collapse=function(){this.isOpened=!1},DivisionTreeItemComponent.prototype.select=function(){this.isSelected?this.collapse():this.expand(),this.isSelected=!this.isSelected},DivisionTreeItemComponent}();i([o.Input(),r("design:type",Array)],l.prototype,"division",void 0),i([o.Input(),r("design:type",s.DivisionTreeComponent)],l.prototype,"tree",void 0),i([o.Input(),r("design:type",Number)],l.prototype,"level",void 0),i([o.Input(),r("design:type",l)],l.prototype,"parent",void 0),l=i([o.Component({selector:"division-tree-item",template:n(375),styles:[n(383)],animations:[a.trigger("slide",[a.state("true",a.style({transform:"scaleY(1)"})),a.state("false",a.style({transform:"scaleY(0)"})),a.transition("* => true",a.animate(100)),a.transition("true => *",a.animate(100))])]})],l),t.DivisionTreeItemComponent=l},216:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(92),s=function(){function PhoneBookComponent(e){this.phoneBook=e,this.inAuthMode=!0}return PhoneBookComponent.prototype.openAuthModal=function(){this.inAuthMode=!0},PhoneBookComponent.prototype.closeAuthModal=function(){this.inAuthMode=!1},PhoneBookComponent.prototype.selectDivision=function(e){null!==e?this.phoneBook.fetchContactsByDivisionId(e.id).subscribe(function(){}):this.phoneBook.clearContactGroups()},PhoneBookComponent}();s=i([o.Component({template:n(377),styles:[n(385)]}),r("design:paramtypes",[a.PhoneBookService])],s),t.PhoneBookComponent=s},217:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=function(){function StubComponent(){}return StubComponent}();i([o.Input(),r("design:type",String)],a.prototype,"icon",void 0),i([o.Input(),r("design:type",String)],a.prototype,"text",void 0),a=i([o.Component({selector:"stub",template:n(378),styles:[n(386)]})],a),t.StubComponent=a},218:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=function(){function TextOverflowDirective(e,t){this.element=e,this.renderer=t}return TextOverflowDirective.prototype.onChange=function(){var e=this.element.nativeElement.innerText;e.length>this.width&&(this.element.nativeElement.textContent=e.substr(0,this.width+1)+"...",this.renderer.setElementProperty(this.element.nativeElement,"title",e))},TextOverflowDirective}();i([o.Input("text-overflow"),r("design:type",Number)],a.prototype,"width",void 0),i([o.HostListener("DOMSubtreeModified"),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],a.prototype,"onChange",null),a=i([o.Directive({selector:"[text-overflow]"}),r("design:paramtypes",[o.ElementRef,o.Renderer])],a),t.TextOverflowDirective=a},369:function(e,t){},370:function(e,t){},371:function(e,t){e.exports="<router-outlet></router-outlet>"},372:function(e,t){e.exports='<div class="auth-component" [@fog]="opened.toString()" *ngIf="opened"></div>\r\n\r\n<div class="auth-form" [@popup]="opened.toString()" *ngIf="opened">\r\n    <div class="form-icon">\r\n        <i class="fa fa-user"></i>\r\n    </div>\r\n    <form novalidate>\r\n        <div class="combined-input margin-bottom-10">\r\n            <i class="fa fa-user"></i>\r\n            <input type="text" name="login" id="user-login" placeholder="Введите учетную запись">\r\n        </div>\r\n        <div class="combined-input margin-bottom-20">\r\n            <i class="fa fa-key"></i>\r\n            <input type="password" name="password" id="user-password" placeholder="Введите пароль">\r\n        </div>\r\n        <button type="submit" class="blue margin-bottom-5">Войти</button>\r\n        <button type="button" class="red" (click)="close()">Отмена</button>\r\n    </form>\r\n</div>\r\n'},373:function(e,t){e.exports='<div class="contact-group-component" *ngIf="group.contacts.length > 0">\r\n    <div class="divisions">\r\n        {{ group.divisions[0].title }}\r\n    </div>\r\n    <div class="contacts">\r\n        <contact [contact]="contact" *ngFor="let contact of group.contacts"></contact>\r\n    </div>\r\n</div>'},374:function(e,t){e.exports='<div class="contact">\r\n    <div class="contact-photo">\r\n        <div class="favorites-icon">\r\n            <i class="fa fa-star"></i>\r\n        </div>\r\n        <div class="photo"></div>\r\n        <div class="more-icon">\r\n            <i class="fa fa-ellipsis-v"></i>\r\n        </div>\r\n    </div>\r\n    <div class="contact-details">\r\n        <div class="surname">{{ contact.surname }}</div>\r\n        <div class="name">{{ contact.name + \' \' + contact.fname }}</div>\r\n        <div class="position" [text-overflow]="50">{{ contact.position }}</div>\r\n        <div class="separator"></div>\r\n        <div class="phones">\r\n            <i class="fa fa-phone"></i>\r\n            <span class="phone-item">22-44,</span>\r\n            <span class="phone-item">(12)22-44,</span>\r\n            <span class="phone-item">(23)22-44-66</span>\r\n        </div>\r\n        <div class="mobile">\r\n            <i class="fa fa-mobile-phone"></i>\r\n            {{ contact.mobile }}\r\n            <span class="not-specified" *ngIf="contact.mobile === \'\'">Моб. телефон не указан</span>\r\n        </div>\r\n        <div class="email">\r\n            <i class="fa fa-at"></i>\r\n            <a href="mailto:{{contact.email}}">{{ contact.email }}</a>\r\n            <span class="not-specified" *ngIf="contact.email === \'\'">E-mail не указан</span>\r\n        </div>\r\n    </div>\r\n</div>'},375:function(e,t){e.exports='<div class="division-tree-item-component">\r\n    <div class="item-details"\r\n         (click)="tree.selectDivision(division)"\r\n         [ngClass]="{ \'selected\': division.isSelected === true }"\r\n         [ngStyle]="{\'padding-left\': 15 * level + \'px\'}">\r\n        <div class="arrow">\r\n            <i class="fa fa-caret-right" *ngIf="division.children.length > 0 && !division.isOpened"></i>\r\n            <i class="fa fa-caret-down" *ngIf="division.children.length > 0 && division.isOpened"></i>\r\n        </div>\r\n        <div class="title">{{ division.title }}</div>\r\n    </div>\r\n    <div class="item-children" *ngIf="division.children.length > 0 && division.isOpened" [ngClass]="{ \'selected\': division.isSelected === true }">\r\n        <division-tree-item *ngFor="let division of division.children | divisionOrder" [division]="division" [tree]="this.tree" [level]="level + 1"></division-tree-item>\r\n    </div>\r\n</div>'},376:function(e,t){e.exports='<div class="division-tree-component">\r\n    <division-tree-item *ngFor="let division of root | divisionOrder" [division]="division" [tree]="this" [level]="0"></division-tree-item>\r\n</div>'},377:function(e,t){e.exports='<div id="app-header">\r\n    <div class="combined-input margin-right-10">\r\n        <i class="fa fa-search"></i>\r\n        <input type="text" name="" id="" placeholder="Введите имя абонента, телефон или e-mail">\r\n        <i class="fa fa-gear" *ngIf="phoneBook.getContactGroupList().length > 0"></i>\r\n    </div>\r\n    <button type="button" class="small favorites badged">\r\n        <span class="badge">12</span>\r\n        <i class="fa fa-star"></i>\r\n    </button>\r\n    <button type="button" class="small">\r\n        <i class="fa fa-sign-in" (click)="openAuthModal()"></i>\r\n    </button>\r\n    <div class="user-logged">\r\n        СВ\r\n    </div>\r\n</div>\r\n<div id="app-divisions">\r\n    <div id="app-divisions-header">\r\n        <span class="app-title">\r\n            Телефонный справочник\r\n            <button type="button">\r\n        <i class="fa fa-question-circle"></i>\r\n    </button>\r\n        </span>\r\n    </div>\r\n    <div id="app-divisions-content">\r\n        <division-tree [divisions]="phoneBook.getDivisionList()" (onSelect)="selectDivision($event)"></division-tree>\r\n    </div>\r\n</div>\r\n<div id="app-content-wrapper">\r\n    <stub *ngIf="phoneBook.getContactGroupList().length === 0 && !phoneBook.isLoadingInProgress()" [icon]="\'fa-building\'" [text]="\'Выберите структурное подразделение\'"></stub>\r\n    <stub *ngIf="phoneBook.isLoadingInProgress() === true" [icon]="\'fa-spinner fa-spin\'" [text]="\'Загрузка...\'"></stub>\r\n    <div id="app-contacts" *ngIf="phoneBook.getContactGroupList().length > 0">\r\n        <contact-group [group]="group" *ngFor="let group of phoneBook.getContactGroupList()"></contact-group>\r\n    </div>\r\n</div>\r\n\r\n\r\n<auth [isOpened]="inAuthMode" (onClose)="closeAuthModal()"></auth>'},378:function(e,t){e.exports='<div class="stub-component">\r\n    <div class="stub">\r\n        <i class="fa {{ icon }}"></i>\r\n        <span class="stub-text">{{ text }}</span>\r\n    </div>\r\n</div>'},380:function(e,t){e.exports=".auth-component {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0, 0, 0, 0.2);\n}\n.auth-form {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 350px;\n  height: auto;\n  padding: 20px;\n  background: white;\n  border-radius: 3px;\n  box-shadow: 1px 1px 15px 1px rgba(0, 0, 0, 0.2);\n  transform: scale(0.1);\n}\n.auth-form form {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.auth-form .form-icon {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100px;\n  height: 100px;\n  margin-top: -70px;\n  margin-bottom: 20px;\n  background: #80CBC4;\n  border-radius: 50%;\n}\n.auth-form .form-icon .fa {\n  font-size: 70px;\n  color: white;\n}\n"},381:function(e,t){e.exports=".contact-group-component {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n}\n.contact-group-component .divisions {\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 10px;\n  padding-bottom: 5px;\n  box-sizing: border-box;\n  font-family: 'Open Sans Semi Bold';\n  font-size: 16px;\n  color: #607D8B;\n  border-bottom: 1px solid #ECEFF1;\n}\n.contact-group-component .contacts {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-content: flex-start;\n}\n"},382:function(e,t){e.exports=".contact {\n  float: left;\n  display: flex;\n  flex-direction: column;\n  width: 280px;\n  margin-right: 1%;\n  margin-bottom: 20px;\n  box-sizing: border-box;\n  background: white;\n  border-radius: 3px;\n  box-shadow: 0 0.5px 2px 0 rgba(0, 0, 0, 0.14);\n}\n.contact .contact-photo {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 10px;\n  padding: 20px;\n  padding-bottom: 0px !important;\n  box-sizing: border-box;\n}\n.contact .contact-photo .favorites-icon {\n  width: 20px;\n}\n.contact .contact-photo .favorites-icon .fa {\n  font-size: 20px;\n  color: #EEEEEE;\n}\n.contact .contact-photo .more-icon {\n  width: 20px;\n}\n.contact .contact-photo .more-icon .fa {\n  font-size: 20px;\n  color: #EEEEEE;\n}\n.contact .contact-photo .photo {\n  align-self: center;\n  width: 120px;\n  height: 120px;\n  border: 1px solid lightgrey;\n  border-radius: 50%;\n  box-sizing: border-box;\n}\n.contact .contact-details {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n  padding-top: 0px !important;\n}\n.contact .contact-details .not-specified {\n  font-size: 14px;\n  color: #B0BEC5;\n}\n.contact .contact-details .surname {\n  height: 15px;\n  max-height: 15px;\n  font-family: 'Open Sans Semi Bold';\n  font-size: 15px;\n  line-height: 15px;\n  color: black;\n}\n.contact .contact-details .name {\n  height: 15px;\n  max-height: 15px;\n  margin-bottom: 7px;\n  font-family: 'Open Sans Regular';\n  font-size: 15px;\n  line-height: 15px;\n}\n.contact .contact-details .position {\n  height: 28px;\n  max-height: 28px;\n  font-family: 'Open Sans Italic';\n  font-size: 14px;\n  line-height: 14px;\n  text-align: center;\n  color: #D81B60;\n}\n.contact .contact-details .separator {\n  width: 50%;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  border-top: 1px solid #ECEFF1;\n}\n.contact .contact-details .email {\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  justify-content: flex-start;\n  font-family: 'Open Sans Regular';\n  font-size: 14px;\n}\n.contact .contact-details .email a {\n  color: #039BE5;\n}\n.contact .contact-details .email a:hover {\n  color: #01579B;\n}\n.contact .contact-details .email .fa {\n  width: 23px;\n  height: 23px;\n  margin-right: 10px;\n  font-size: 15px;\n  line-height: 23px;\n  color: #004D40;\n  text-align: center;\n  background: #FDEBDB;\n  border-radius: 50%;\n}\n.contact .contact-details .phones {\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  justify-content: flex-start;\n  margin-bottom: 5px;\n}\n.contact .contact-details .phones .fa {\n  width: 23px;\n  height: 23px;\n  margin-right: 10px;\n  font-size: 15px;\n  line-height: 23px;\n  color: #004D40;\n  text-align: center;\n  background: #FDEBDB;\n  border-radius: 50%;\n}\n.contact .contact-details .phones .phone-item {\n  margin-right: 5px;\n  font-family: 'Open Sans Regular';\n  font-size: 14px;\n}\n.contact .contact-details .mobile {\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  justify-content: flex-start;\n  margin-bottom: 5px;\n  font-family: 'Open Sans Regular';\n  font-size: 14px;\n}\n.contact .contact-details .mobile .fa {\n  width: 23px;\n  height: 23px;\n  margin-right: 10px;\n  font-size: 16px;\n  line-height: 23px;\n  color: #004D40;\n  text-align: center;\n  background: #FDEBDB;\n  border-radius: 50%;\n}\n/* Target landscape smartphones, portrait tablets, narrow desktops */\n@media screen and (min-width: 320px) and (max-width: 800px) {\n  .contact {\n    float: none;\n    width: 100%;\n  }\n}\n/* Target landscape tablets, desktops */\n/* Target landscape tablets, desktops */\n/* Target landscape tablets, desktops */\n/* Target landscape tablets, desktops */\n"},383:function(e,t){e.exports=".division-tree-item-component {\n  display: flex;\n  flex-direction: column;\n}\n.division-tree-item-component .item-details {\n  display: flex;\n  flex-direction: row;\n  min-height: 50px;\n  margin-left: 10px;\n  margin-right: 10px;\n  padding-top: 10px;\n  box-sizing: border-box;\n  border-left: 4px solid transparent;\n  border-bottom: 1px solid #E6EEF4;\n  cursor: pointer;\n}\n.division-tree-item-component .item-details:hover {\n  margin-left: 0px;\n  margin-right: 0px;\n  padding-right: 10px;\n  padding-left: 20px;\n  background: #E6EEF4;\n}\n.division-tree-item-component .item-details:hover .arrow {\n  border-top: 1px solid #DEEDF7;\n}\n.division-tree-item-component .item-details .title {\n  padding-bottom: 10px;\n}\n.division-tree-item-component .item-details.selected {\n  background: #DEEDF7;\n  margin-right: 0px;\n  margin-left: 0px;\n}\n.division-tree-item-component .item-details.selected .title {\n  border-bottom: 1px solid transparent !important;\n}\n.division-tree-item-component .item-details .arrow {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n  width: 25px;\n  padding-bottom: 10px;\n  box-sizing: border-box;\n  font-size: 14px;\n  color: #8CAEC6;\n}\n.division-tree-item-component .item-details .title {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  flex-grow: 1;\n  font-family: 'Open Sans Regular';\n  font-size: 14px;\n  line-height: 14px;\n}\n.division-tree-item-component .item-children.selected {\n  background: #EDF3F7;\n  border-bottom: 1px solid #E1ECF4;\n  border-top: 1px solid #D0E1ED;\n}\n.division-tree-item-component .item-children.selected .item-details {\n  border-bottom: 1px solid transparent;\n}\n.division-tree-item-component .item-children.selected .item-details .title {\n  border-bottom: 1px solid #DEEAF2;\n}\n"},384:function(e,t){e.exports=""},385:function(e,t){e.exports="#app-header {\n  position: absolute;\n  top: 0px;\n  left: 350px;\n  right: 0px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  height: 70px;\n  padding-left: 20px;\n  padding-right: 35px;\n  box-sizing: border-box;\n  background: white;\n  border-bottom: 1px solid #E9EBEC;\n  transition: left 0.2s linear 0s;\n}\n#app-header button.favorites {\n  margin-right: 10px;\n}\n#app-header button.favorites .fa {\n  font-size: 20px;\n  color: #FFC107;\n}\n#app-header button .badge {\n  float: right;\n  display: inline-block;\n  width: 17px;\n  height: 17px;\n  margin-top: -15px;\n  margin-right: -10px;\n  font-family: 'Open Sans Semi Bold';\n  font-size: 10px;\n  line-height: 17px;\n  text-align: center;\n  letter-spacing: 0.1px;\n  color: white;\n  background: #E91E63;\n  border-radius: 50%;\n}\n#app-header button.badged .fa {\n  margin-right: -7px;\n}\n#app-header .user-logged {\n  width: 40px;\n  height: 40px;\n  margin-left: 10px;\n  font-family: 'Open Sans Semi Bold';\n  font-size: 20px;\n  line-height: 40px;\n  text-align: center;\n  color: white;\n  background: #C5CAE9;\n  border-radius: 50%;\n  cursor: pointer;\n}\n#app-divisions {\n  overflow: auto;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  bottom: 0px;\n  display: flex;\n  flex-direction: column;\n  width: 350px;\n  box-sizing: border-box;\n  background: #F4F9FC;\n  transition: width 0.2s linear 0s;\n}\n#app-divisions #app-divisions-header {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 70px;\n  padding-right: 0px;\n  padding-left: 20px;\n  box-sizing: border-box;\n  background: white;\n  border-bottom: 1px solid #E9EBEC;\n}\n#app-divisions #app-divisions-header .app-title {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n  height: 40px;\n  padding-right: 20px;\n  font-family: 'Open Sans Semi Bold';\n  font-size: 20px;\n  color: #607D8B;\n  border-right: 1px solid #E9EBEC;\n}\n#app-divisions #app-divisions-header .app-title .fa {\n  color: #80CBC4;\n}\n#app-divisions #app-divisions-header button {\n  width: 40px;\n  height: 40px;\n  background: transparent;\n  border: 1px solid #EEEEEE;\n  border-radius: 4px;\n  outline: none;\n  cursor: pointer;\n  transition: background 0.2s linear 0s;\n}\n#app-divisions #app-divisions-header button:hover {\n  background: #FAFAFA;\n  border: 1px solid #E0E0E0;\n}\n#app-divisions #app-divisions-header button .fa {\n  margin-left: auto;\n  margin-right: auto;\n  font-size: 20px;\n  color: #80CBC4;\n}\n#app-divisions #app-divisions-header button.favorites {\n  margin-right: 10px;\n}\n#app-divisions #app-divisions-header button.favorites .fa {\n  font-size: 20px;\n  color: #FFC107;\n}\n#app-divisions #app-divisions-header button .badge {\n  float: right;\n  display: inline-block;\n  width: 17px;\n  height: 17px;\n  margin-top: -15px;\n  margin-right: -10px;\n  font-family: 'Open Sans Semi Bold';\n  font-size: 10px;\n  line-height: 17px;\n  text-align: center;\n  letter-spacing: 0.1px;\n  color: white;\n  background: #E91E63;\n  border-radius: 50%;\n}\n#app-divisions #app-divisions-header button.badged .fa {\n  margin-right: -7px;\n}\n#app-divisions #app-divisions-content {\n  overflow: auto;\n  position: absolute;\n  top: 70px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  display: flex;\n  border-right: 1px solid #E1ECF4;\n}\n#app-content-wrapper {\n  overflow: auto;\n  position: absolute;\n  top: 70px;\n  left: 350px;\n  right: 0px;\n  bottom: 0px;\n  transition: left 0.2s linear 0s;\n  background: #FAFAFA;\n}\n#app-content-wrapper #app-contacts {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  overflow: auto;\n  height: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n}\n/* Target landscape smartphones, portrait tablets, narrow desktops */\n@media screen and (min-width: 320px) and (max-width: 800px) {\n  #app-header {\n    left: 0px;\n    height: 50px;\n    padding-left: 10px;\n    padding-right: 10px;\n  }\n  #app-header input[type='text'] {\n    height: 35px;\n  }\n  #app-content-wrapper {\n    top: 50px;\n    left: 0px;\n  }\n  #app-divisions {\n    width: 0px;\n  }\n  #app-contacts {\n    flex-direction: column !important;\n    flex-wrap: nowrap !important;\n    margin-left: 0px !important;\n    padding: 10px !important;\n  }\n  #app-contacts .breadcrumb {\n    display: flex;\n    flex-direction: row;\n    font-family: 'Open Sans Semi Bold';\n    font-size: 18px;\n  }\n}\n/*\n @media screen and (min-width: 500px) and (max-width: 900px) {\n #app-divisions {\n display: none;\n float: none;\n }\n\n #app-contacts {\n margin-left: 0px !important;\n }\n }\n */\n/* Target landscape tablets, desktops */\n@media screen and (min-width: 800px) and (max-width: 1400px) {\n  #app-contacts {\n    margin-left: 0px !important;\n  }\n  #app-contacts .contact:nth-of-type(3) {\n    margin-right: 0px !important;\n    background: red !important;\n  }\n}\n/* Target big displays */\n@media screen and (min-width: 1400px) {\n  #app-header {\n    height: 70px;\n  }\n  #app-content-wrapper {\n    top: 70px;\n  }\n}\n/* Target big displays */\n"},386:function(e,t){e.exports=".stub-component {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n  width: 100%;\n  height: 100%;\n}\n.stub-component .stub {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 300px;\n  height: 300px;\n  font-family: 'Open Sans Regular';\n  font-size: 17px;\n  line-height: 17px;\n  color: #455A64;\n  text-align: center;\n  background: #ECEFF1;\n  border-radius: 50%;\n}\n.stub-component .stub .fa {\n  margin-bottom: 15px;\n  font-size: 70px;\n  color: #B0BEC5;\n}\n"},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(90),r=n(9),o=n(201);r.enableProdMode(),i.platformBrowserDynamic().bootstrapModule(o.AppModule)},91:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(127),o=function(){function IContact(){}return IContact}();t.IContact=o;var a=function(e){function Contact(t){var n=e.call(this)||this;return n.id=0,n.userId=0,n.divisionId=0,n.surname="",n.name="",n.fname="",n.position="",n.email="",n.phones=[],n.mobile="",n.photo="",n.fio="",n.search="",t&&(n.id=t.id,n.userId=t.user_id,n.divisionId=t.division_id,n.surname=t.surname,n.name=t.name,t.fname&&(n.fname=t.fname),t.position&&(n.position=t.position),t.email&&(n.email=t.email),t.mobile&&(n.mobile=t.mobile),t.photo&&(n.photo=t.photo),n.fio=n.surname+" "+n.name+" "+n.fname),n}return i(Contact,e),Contact}(r.Model);t.Contact=a},92:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(89),s=n(91),l=n(0);n(163),n(164);var u=n(126),c=n(128),p=function(){function PhoneBookService(e){this.http=e,this.apiUrl="http://127.0.0.1:4444/api",this.contacts=[],this.favorites=[],this.divisions=[],this.groups=[],this.loadingInProgress=!1,this.loading=!1,this.searchMode=!1,this.searchQuery=""}return PhoneBookService.prototype.fetchDivisionList=function(){var e=this,t=new a.Headers({"Content-Type":"application/json"}),n=new a.RequestOptions({headers:t}),i={action:"getDivisionList"};return this.http.post(this.apiUrl,i,n).map(function(t){return t.json().forEach(function(t){var n=new u.Division(t);e.divisions.push(n)}),console.log(e.divisions),e.divisions}).take(1).catch(this.handleError)},PhoneBookService.prototype.fetchContactsByDivisionId=function(e){var t=this,n=new a.Headers({"Content-Type":"application/json"}),i=new a.RequestOptions({headers:n}),r={action:"getContactGroupsByDivisionId",data:{divisionId:e}};return this.loadingInProgress=!0,this.http.post(this.apiUrl,r,i).map(function(e){return t.clearContactGroups(),t.loadingInProgress=!1,e.json().forEach(function(e){var n=new c.ContactGroup(e);t.groups.push(n)}),t.groups}).take(1).catch(this.handleError)},PhoneBookService.prototype.getDivisionList=function(){return this.divisions},PhoneBookService.prototype.getContactGroupList=function(){return this.groups},PhoneBookService.prototype.isLoadingInProgress=function(){return this.loadingInProgress},PhoneBookService.prototype.getDivisionById=function(e){var t=function(t,n,i){return t.id===e};return this.divisions.find(t)},PhoneBookService.prototype.clearContactGroups=function(){this.groups=[]},PhoneBookService.prototype.searchContacts=function(){var e=this,t=new a.Headers({"Content-Type":"application/json"}),n=new a.RequestOptions({headers:t}),i={action:"searchContacts",data:{search:this.searchQuery}};return this.searchMode=!0,this.loading=!0,this.http.post(this.apiUrl,i,n).map(function(t){e.loading=!1;var n=t.json();if(null===n)return null;for(var i=n.length,r=0;r<i;r++){for(var o=new u.Division(n[r].division),a=n[r].contacts.length,l=0;l<a;l++){new s.Contact(n[r].contacts[l])}e.contacts.push(o)}e.loading=!1}).take(1).catch(this.handleError)},PhoneBookService.prototype.addContactToFavorites=function(e,t){var n=this,i=new a.Headers({"Content-Type":"application/json"}),r=new a.RequestOptions({headers:i}),o={action:"addContactToFavorites",data:{contactId:e,userId:t}};return this.loading=!0,this.http.post(this.apiUrl,o,r).map(function(e){n.loading=!1;var t=e.json(),i=new s.Contact(t);n.favorites.push(i)}).take(1).catch(this.handleError)},PhoneBookService.prototype.deleteContactFromFavorites=function(e,t){var n=this,i=new a.Headers({"Content-Type":"application/json"}),r=new a.RequestOptions({headers:i}),o={action:"deleteContactFromFavorites",data:{contactId:e,userId:t}};return this.loading=!0,this.http.post(this.apiUrl,o,r).map(function(t){if(n.loading=!1,!0===t.json()){for(var i=n.favorites.length,r=0;r<i;r++)if(n.favorites[r].id===e)return n.favorites.splice(r,1),!0;return!1}}).take(1).catch(this.handleError)},PhoneBookService.prototype.getFavorites=function(){return this.favorites},PhoneBookService.prototype.isContactInFavorites=function(e){for(var t=this.favorites.length,n=0;n<t;n++)if(this.favorites[n].id===e.id)return!0;return!1},PhoneBookService.prototype.isInSearchMode=function(){return this.searchMode},PhoneBookService.prototype.isLoading=function(){return this.loading},PhoneBookService.prototype.handleError=function(e){var t;if(e instanceof a.Response){var n=e.json()||"",i=n.error||JSON.stringify(n);t=e.status+" - "+(e.statusText||"")+" "+i}else t=e.message?e.message:e.toString();return this.loading=!1,console.error(t),l.Observable.throw(t)},PhoneBookService}();p=i([o.Injectable(),r("design:paramtypes",[a.Http])],p),t.PhoneBookService=p}},[649]);